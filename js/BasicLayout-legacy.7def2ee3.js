(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BasicLayout"],{"07a1":function(e,t,n){"use strict";var i=function(e,t){var n=t._c;return n("div",{class:{placeholder:t.props.isFixed}},[n("footer",{class:["footer",{"footer-fixed":t.props.isFixed}],style:{width:"calc(100% - "+(t.props.isFixed?t.props.width:0)+"px)"}},[n("ALayoutFooter",[t._v("\n            Copyright © 2018\n            "+t._s(t.props.nowYear>2018?" - "+t.props.nowYear:null)+" "+t._s(t.parent.$app.org)+"\n            All Rights Reserved\n        ")])],1)])},r=[],s={name:"Footer",props:{isFixed:{type:Boolean,default:!1},width:{type:Number,default:0},nowYear:{type:Number,default:(new Date).getFullYear()}}},a=s,o=(n("5de2"),n("2877")),c=Object(o["a"])(a,i,r,!0,null,"4eb02306",null);t["a"]=c.exports},"168c":function(e,t,n){"use strict";var i=n("8d97"),r=n.n(i);r.a},"1dde":function(e,t,n){"use strict";var i=n("b3d2"),r=n.n(i);r.a},"230a":function(e,t,n){"use strict";var i=n("eeba"),r=n.n(i);r.a},"2eb4":function(e,t,n){"use strict";var i=n("6e85"),r=n.n(i);r.a},"3e59":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ALayout",{staticClass:"container",class:e.isVertical?"vertical":"horizontal"},[n(e.layout.menuLayout,{tag:"compontent",staticClass:"layout-sider layout-header",class:{"header-fixed":!e.isVertical&&e.isFixedHeader,"sider-fixed":e.isVertical&&e.isFixedSider,"menu-theme-light":"light"===e.menuTheme,"menu-right":e.isMenuRight},attrs:{collapsible:"",breakpoint:"xl",theme:e.menuTheme,width:e.siderWidth},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[n("Logo",{attrs:{collapsed:e.collapsed,theme:e.menuTheme}}),n("VMenu",{staticClass:"menu",attrs:{"menu-data":e.menuList,"selected-keys":e.currentName,"open-keys":e.layout.openKeys,mode:e.layout.mode,theme:e.menuTheme},on:{"update:openKeys":function(t){return e.$set(e.layout,"openKeys",t)},"update:open-keys":function(t){return e.$set(e.layout,"openKeys",t)},click:e.pushRouter}}),e.isVertical?e._e():n("div",{staticClass:"header-tool"},[n("FullScreen"),n("SettingBtn",{on:{click:e.toggleSetting}}),n("UserMenu")],1)],1),n("ALayout",{staticClass:"layout-main",style:{marginLeft:e.layoutMainLeft+"px"}},[e.isVertical?n("ALayoutHeader",{staticClass:"layout-main-header",class:{"header-fixed":e.isFixedHeader},style:{paddingLeft:e.layoutMainHeaderLeft+"px"}},[n("div",{staticClass:"trigger v-icon-hover",on:{click:e.toggleCollapsed}},[n("AIcon",{attrs:{type:e.collapsed?"menu-unfold":"menu-fold"}})],1),e.isMobileDevice?e._e():n("Breadcrumb"),n("div",{staticClass:"header-tool"},[n("FullScreen"),n("SettingBtn",{on:{click:e.toggleSetting}}),n("UserMenu")],1)],1):e._e(),n("ALayoutContent",{class:[{"content-fixed-top":e.isFixedHeader},"layout-main-content"]},[e.isVertical?e._e():n("div",{staticClass:"horizontal-breadcrumb"},[n("Breadcrumb")],1),n("KeepAlive",{attrs:{include:e.getAlive("BasicLayout")}},[n("RouterView")],1)],1),n("Footer",{attrs:{width:e.isVertical?e.siderWidth:0}})],1)],1),e.showSetting?n("Setting",{model:{value:e.showSetting,callback:function(t){e.showSetting=t},expression:"showSetting"}}):e._e(),n("BackTop")],1)},r=[],s=n("2f62"),a={data:function(){return{screenTypeMixin:"xl",screenLevelMixin:6}},created:function(){this.breakpoints=[{minWidth:1600,type:"xxl",level:8},{minWidth:1400,type:"xl",level:7},{minWidth:1200,type:"xl",level:6},{minWidth:992,type:"lg",level:5},{minWidth:768,type:"md",level:3.8},{minWidth:576,type:"sm",level:2.8},{minWidth:0,type:"xs",level:0}],this.$_screen_change(),this.$_screen_change=this.$util.throttle(this.$_screen_change,170,!0),window.addEventListener("resize",this.$_screen_change)},beforeDestroy:function(){window.removeEventListener("resize",this.$_screen_change)},methods:{$_screen_change:function(){var e=this,t=Math.min(window.screen.width,document.body.clientWidth);this.breakpoints.some(function(n){if(n.minWidth<=t){var i=[n.type,n.level];return e.screenTypeMixin=i[0],e.screenLevelMixin=i[1],e.$store.commit("app/setScreenType",n),!0}return!1})}}},o=a,c=n("56dc"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.isVertical?"vertical":"horizontal",e.theme]},[e.$app.logoPath?e._m(0):e._e(),n("h1",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title))])])},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("img",{staticClass:"logo",attrs:{src:e.publicPath+e.$app.logoPath,alt:"图标",height:"36",width:"36"}})}],h={name:"Logo",props:{collapsed:Boolean,theme:{type:String,validator:function(e){return["dark","light"].includes(e)}}},data:function(){return{title:this.$app.title.small,publicPath:""}},computed:Object(s["e"])("app",{isVertical:function(e){return e.layout.isVertical}}),watch:{collapsed:function(e){var t=this;this.isVertical&&e?this.title=null:setTimeout(function(){return t.title=t.$app.title.small},168)}}},d=h,p=(n("230a"),n("2877")),m=Object(p["a"])(d,l,u,!1,null,"b7319466",null),f=m.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user v-icon-hover"},[n("ADropdown",{scopedSlots:e._u([{key:"overlay",fn:function(){return[n("AMenu",{staticClass:"user-menu"},[n("AMenuItem",[n("AIcon",{attrs:{type:"user"}}),e._v("\n                    个人设置\n                ")],1),n("AMenuDivider"),n("AMenuItem",{on:{click:e.logout}},[n("AIcon",{attrs:{type:"logout"}}),e._v("\n                    退出登录\n                ")],1)],1)]},proxy:!0}])},[n("div",[n("AAvatar",{staticClass:"user-avatar v-theme-bg",attrs:{size:36,src:e.avatar,alt:e.nickName.slice(0,3)}},[e._v("\n                "+e._s(e.nickName.slice(0,5))+"\n            ")]),n("span",{staticClass:"user-nickname"},[e._v(e._s(e.nickName))])],1)])],1)},v=[];function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){g(e,t,n[t])})}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={name:"UserMenu",computed:b({},Object(s["e"])("user",["avatar","nickName"])),methods:b({},Object(s["d"])("user",["setToken"]),{logout:function(){this.setToken(),this.$router.replace({name:this.$app.loginName})}})},_=w,O=(n("99e5"),Object(p["a"])(_,y,v,!1,null,"77796a2c",null)),x=O.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showFullScreenBtn?n("div",{staticClass:"full-screen v-icon-hover",on:{click:e.handleToggle}},[e._t("default",[n("ATooltip",{attrs:{title:e.isFullScreen?"退出全屏":"全屏"}},[n("div",[n("AIcon",{staticClass:"full-screen-icon",attrs:{type:e.isFullScreen?"fullscreen-exit":"fullscreen"}})],1)])],{isFullScreen:e.isFullScreen})],2):e._e()},F=[],L={name:"FullScreen",data:function(){return{showFullScreenBtn:!0,isFullScreen:!1}},mounted:function(){var e=this;if(this.showFullScreenBtn=window.navigator.userAgent.search("MSIE")<0,!this.showFullScreenBtn)return!1;var t=document.documentElement,n=[{event:"fullscreen",listener:"fullscreenchange",exit:document.exitFullscreen,full:t.requestFullscreen},{event:"mozFullScreen",listener:"mozfullscreenchange",exit:document.exitFullscreen||document.mozCancelFullScreen,full:t.requestFullscreen||t.mozRequestFullScreen},{event:"webkitIsFullScreen",listener:"webkitfullscreenchange",exit:document.webkitCancelFullScreen,full:t.webkitRequestFullScreen}];this.$nextTick(function(){e.browser=n.find(function(e){return void 0!==document[e.event]}),e.browser?(e.showFullScreenBtn=!0,e.isFullScreen=!!document[e.browser.event],e.$emit("change",e.isFullScreen),document.addEventListener(e.browser.listener,e.bindScreenToggle)):e.showFullScreenBtn=!1})},beforeDestroy:function(){this.browser&&document.removeEventListener(this.browser.listener,this.bindScreenToggle)},methods:{handleToggle:function(){this.isFullScreen?this.browser.exit.call(document):this.browser.full.call(document.documentElement)},bindScreenToggle:function(){this.isFullScreen=!!document[this.browser.event],this.$emit("change",this.isFullScreen)}}},k=L,$=(n("ba79"),Object(p["a"])(k,S,F,!1,null,"340a72d8",null)),A=$.exports,M=function(e,t){var n=t._c;return n("ATooltip",{attrs:{title:"界面设置"}},[n("div",t._g({staticClass:"setting v-icon-hover"},t.listeners),[n("AIcon",{staticClass:"setting-icon",attrs:{type:"setting"}})],1)])},j=[],C=(n("d012"),{}),K=Object(p["a"])(C,M,j,!0,null,"078ba905",null),T=K.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ABreadcrumb",{staticClass:"breadcrumb",attrs:{routes:e.routes},scopedSlots:e._u([{key:"itemRender",fn:function(t){var i=t.route;return[e.routes.indexOf(i)===e.routes.length-1?n("a",[e._v("\n            "+e._s(i.meta.title)+"\n        ")]):n("RouterLink",{attrs:{to:i}},[e._v("\n            "+e._s(i.meta.title)+"\n        ")])]}}])})},B=[];function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){D(e,t,n[t])})}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={name:"Breadcrumb",data:function(){return{routes:[]}},watch:{"$route.name":{handler:function(){this.routes=[],this.findOpenRoute(this.$router.options.routes)},immediate:!0}},methods:{findOpenRoute:function(e){var t=this;return e.some(function(e){return t.routes.push(P({},e,{path:e.name})),e.name===t.$route.name||(!(!Array.isArray(e.children)||!t.findOpenRoute(e.children))||(t.routes.pop(),!1))})}}},R=E,I=(n("1dde"),Object(p["a"])(R,V,B,!1,null,"db6a18da",null)),W=I.exports,z=n("07a1"),N=function(e,t){var n=t._c;return n("ABackTop",[n("div",{staticClass:"back-top"},[n("AIcon",{staticClass:"back-top-icon",attrs:{type:"up"}})],1)])},H=[],q=(n("168c"),{}),U=Object(p["a"])(q,N,H,!0,null,"7fea3aa2",null),Y=U.exports;function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){G(e,t,n[t])})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){return Array.isArray(e)&&e.filter(function(e){return!(e.meta&&e.meta.hideInMenu)})},X={name:"BasicLayout",components:{MenuDrawer:function(){return n.e("MenuDrawer").then(n.bind(null,"2e02"))},Setting:function(){return n.e("Setting").then(n.bind(null,"a3ba"))},Logo:f,SettingBtn:T,UserMenu:x,FullScreen:A,Breadcrumb:W,Footer:z["a"],BackTop:Y},mixins:[o,c["a"]],data:function(){return{menuList:[],currentName:[this.$route.name],collapsed:!1,showSetting:!1,vertical:{openKeys:[],mode:"inline",menuLayout:"ALayoutSider"},horizontal:{openKeys:[],mode:"horizontal",menuLayout:"ALayoutHeader"},cacheOpenKeys:[],cacheIsVertical:this.isVertical,isOpenKeysLock:!1}},computed:J({},Object(s["e"])("app",{menuTheme:function(e){return e.layout.menuTheme},isVertical:function(e){return e.layout.isVertical},isFixedHeader:function(e){return e.layout.isFixedHeader},isFixedSider:function(e){return e.layout.isFixedSider},isMenuRight:function(e){return e.layout.isMenuRight}}),Object(s["c"])("app",["getAlive","isMobileDevice"]),{layout:function(){return this.isVertical?this.vertical:this.horizontal},siderWidth:function(){var e=this.isMobileDevice?0:80,t=16*Math.max(this.screenLevelMixin,5)+120;return this.collapsed?e:t},layoutMainLeft:function(){return this.isVertical&&this.isFixedSider&&!this.isMobileDevice?this.siderWidth:0},layoutMainHeaderLeft:function(){return this.isFixedHeader&&!this.isMobileDevice?this.siderWidth:0}}),watch:{"$route.name":{handler:function(e){if(this.currentName.splice(0,1,e),this.isOpenKeysLock)return this.isOpenKeysLock=!1;this.vertical.openKeys=this.getOpenKeys(e)}},collapsed:function(){var e=[this.vertical.openKeys,this.cacheOpenKeys];this.cacheOpenKeys=e[0],this.vertical.openKeys=e[1]},isMobileDevice:{handler:function(e){e?(this.cacheIsVertical=this.isVertical,this.setLayout({isVertical:!0}),this.vertical.menuLayout="MenuDrawer",this.collapsed=!0):(this.setLayout({isVertical:this.cacheIsVertical}),this.vertical.menuLayout="ALayoutSider")},immediate:!0}},created:function(){this.setLayout(this.$db.get("layout")),this.setMenuList(),this.getOpenKeys=this.$util.cached(this.getOpenKeys),this.vertical.openKeys=this.getOpenKeys(this.$route.name)},methods:J({},Object(s["d"])("app",["setLayout"]),{pushRouter:function(e){var t=e.key;this.$router.push({name:t}),this.isOpenKeysLock=!0},setMenuList:function(){var e=this,t=this.$router.options.routes.find(function(t){return t.name===e.$app.mainName});t&&Array.isArray(t.children)&&(this.menuList=this.getMenu(Q(t.children)))},getMenu:function(e){var t=this;return e.map(function(e){var n=J({},e.meta||{},{key:e.name}),i=Q(e.children);return i&&i.length&&(n.children=t.getMenu(i),1===n.children.length&&(n=n.children[0])),n})},getOpenKeys:function(e){var t=[];return this.findOpenKeys(t,e,this.menuList),t.length?t:this.vertical.openKeys},findOpenKeys:function(e,t,n){var i=this;return n.some(function(n){return n.key===t||(e.push(n.key),Array.isArray(n.children)?i.findOpenKeys(e,t,n.children):(e.pop(),!1))})},toggleCollapsed:function(){this.collapsed=!this.collapsed},toggleSetting:function(){this.showSetting=!0}})},Z=X,ee=(n("2eb4"),Object(p["a"])(Z,i,r,!1,null,"4f37e9fd",null));t["default"]=ee.exports},"56dc":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var i=n("2f62");function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=[{text:"薄暮",name:"dust-red",variables:{"@primary-color":"#f5222d"}},{text:"金盏花",name:"alendula-gold",variables:{"@primary-color":"#faad14"}},{text:"极光绿",name:"polar-green",variables:{"@primary-color":"#52C41A"}},{text:"明青",name:"cyan",variables:{"@primary-color":"#13C2C2"}},{text:"拂晓蓝",name:"daybreak-blue",variables:{"@primary-color":"#1890FF"}},{text:"酱紫",name:"golden-purple",variables:{"@primary-color":"#722ED1"}}],o={computed:r({},Object(i["e"])("app",{theme:function(e){return e.layout.theme}})),watch:{theme:{handler:function(e,t){this.$_theme_updateTheme(e,t)}}},created:function(){this.$_theme_updateTheme=this.$util.throttle(this.$_theme_updateTheme,1200,!0),this.$_theme_init(),this.$_theme_updateClass(this.theme)},methods:r({},Object(i["d"])("app",["setLayout"]),{$_theme_init:function(){var e=this.$db.get("layout",{}).theme;this.setLayout({theme:e})},$_theme_updateTheme:function(e){var t=this,n=a.find(function(t){return t.name===e});(n||window.less)&&window.less.modifyVars(n.variables).then(function(){return t.$_theme_updateClass(e)}).catch(function(){return t.$message.error("主题更换失败！")})},$_theme_updateClass:function(e){a.forEach(function(e){return document.body.classList.remove(e.name)}),document.body.classList.add(e)}})}},"5de2":function(e,t,n){"use strict";var i=n("64f3"),r=n.n(i);r.a},"64f3":function(e,t,n){},"6e85":function(e,t,n){},"8d97":function(e,t,n){},"99e5":function(e,t,n){"use strict";var i=n("fd9f"),r=n.n(i);r.a},b3d2:function(e,t,n){},b75a:function(e,t,n){},ba79:function(e,t,n){"use strict";var i=n("bc10"),r=n.n(i);r.a},bc10:function(e,t,n){},d012:function(e,t,n){"use strict";var i=n("b75a"),r=n.n(i);r.a},eeba:function(e,t,n){},fd9f:function(e,t,n){}}]);