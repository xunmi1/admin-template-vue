(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VLazyComponent"],{"04f0":function(t,e,i){},3304:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("TransitionGroup",t._g(t._b({staticClass:"lazy-component",attrs:{"enter-class":t.$attrs.enterClass||"lazy-component-enter lazy-component-"+t.orientation,"leave-to-class":t.$attrs.leaveToClass||"lazy-component-leave-to lazy-component-"+t.orientation}},"TransitionGroup",t.$attrs,!1),t.$listeners),[t.isInit?i("div",{key:"component"},[t._t("default",null,{isLoad:t.isBeforeInit})],2):t.$slots.skeleton?i("div",{key:"skeleton"},[t._t("skeleton")],2):i("div",{key:"isBeforeInit"})])},o=[],s={name:"LazyComponent",props:{tag:{type:String,default:"div"},delay:{type:Number,validator:t=>t>=0},viewport:{type:[window.HTMLElement,Object]},threshold:{type:String,default:"24px"},orientation:{type:String,validator:t=>["top","left","bottom","right"].includes(t),default:"bottom"},maxWaitingTime:{type:Number,default:120},stop:Boolean},data(){return{isInit:!1,isBeforeInit:!1}},computed:{rootMargin(){return["top","bottom"].includes(this.orientation)?this.threshold+" 0px":"0px "+this.threshold}},created(){if(this.delay){let t=setTimeout(()=>{this.init(),clearTimeout(t),t=null},this.delay)}},mounted(){if(!this.delay){if(!IntersectionObserver)return this.init();const t=new IntersectionObserver(this.intersectionHandler,{root:this.viewport,rootMargin:this.rootMargin,threshold:[0,.03,.06]});t.observe(this.$el),this.$once("hook:beforeDestroy",()=>{t&&t.unobserve(this.$el)})}},methods:{intersectionHandler(t,e){(t[0].isIntersecting||t[0].intersectionRatio)&&(this.init(),this.stop||e.unobserve(this.$el))},init(){this.$emit("before-init"),this.isBeforeInit=!0,this.requestAnimationFrame(()=>{this.isInit=!this.stop,this.$emit("init",!0)})},requestAnimationFrame(t){var e;setTimeout(()=>{this.isInit||t()},this.maxWaitingTime);const i=null!==(e=window.requestAnimationFrame)&&void 0!==e?e:t=>setTimeout(t,1e3/60*8);return i(t)}}},r=s,a=(i("f28c"),i("2877")),l=Object(a["a"])(r,n,o,!1,null,"15cb21c8",null);e["default"]=l.exports},f28c:function(t,e,i){"use strict";i("04f0")}}]);